\hypertarget{classsparky_1_1_thread_pool}{}\section{sparky\+:\+:Thread\+Pool Class Reference}
\label{classsparky_1_1_thread_pool}\index{sparky\+::\+Thread\+Pool@{sparky\+::\+Thread\+Pool}}


{\ttfamily \#include $<$threadpool.\+hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsparky_1_1_thread_pool_ac153de2ca1a6b692c48e000c7891e439}{Thread\+Pool} (const unsigned int threads=std\+::thread\+::hardware\+\_\+concurrency())
\begin{DoxyCompactList}\small\item\em Constructs the Thread Pool with a set amount of threads. \end{DoxyCompactList}\item 
\hyperlink{classsparky_1_1_thread_pool_ae54a60ab84b11b3bb6dcccea9ba4d841}{$\sim$\+Thread\+Pool} (void)
\begin{DoxyCompactList}\small\item\em Destruction of the Thread Pool object. \end{DoxyCompactList}\item 
void \hyperlink{classsparky_1_1_thread_pool_a3faeacdbbab736f1461c7ea53739e34f}{add\+Task} (const std\+::function$<$ void()$>$ \&function)
\begin{DoxyCompactList}\small\item\em Adds a task that an inactive thread will execute. \end{DoxyCompactList}\item 
void \hyperlink{classsparky_1_1_thread_pool_a24ce7704a54be1f5b956d61bc6c0fc7f}{join} (void)
\begin{DoxyCompactList}\small\item\em Joins each thread back to the main thread. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The Thread Pool is a convenience class for easily setting up multi-\/threaded applications and useability without having to over-\/complicate code bases and scatter locks. The thread pool will continuously run in the background of the application and process any tasks assigned to it.

This is useful for assigning tasks which may slow down certain elements of the engine, such as the chunk generation for the \hyperlink{classsparky_1_1_voxel}{Voxel} \hyperlink{classsparky_1_1_world}{World}. Below is an example of using the Pool without the Thread Manager.

Usage example\+: 
\begin{DoxyCode}
\textcolor{comment}{// Create a pool with the maximum amount of threads.}
\hyperlink{classsparky_1_1_thread_pool}{sparky::ThreadPool} pool;

\textcolor{comment}{// Add a task using a lambda function.}
\textcolor{keywordtype}{int} number = 5;
pool.\hyperlink{classsparky_1_1_thread_pool_a3faeacdbbab736f1461c7ea53739e34f}{addTask}([&number](\textcolor{keywordtype}{int} num) \{ number = num; \});

\textcolor{comment}{// Join the pool to the main thread.}
pool.\hyperlink{classsparky_1_1_thread_pool_a24ce7704a54be1f5b956d61bc6c0fc7f}{join}();
\end{DoxyCode}
 

\subsection{Constructor \& Destructor Documentation}
\index{sparky\+::\+Thread\+Pool@{sparky\+::\+Thread\+Pool}!Thread\+Pool@{Thread\+Pool}}
\index{Thread\+Pool@{Thread\+Pool}!sparky\+::\+Thread\+Pool@{sparky\+::\+Thread\+Pool}}
\subsubsection[{\texorpdfstring{Thread\+Pool(const unsigned int threads=std\+::thread\+::hardware\+\_\+concurrency())}{ThreadPool(const unsigned int threads=std::thread::hardware_concurrency())}}]{\setlength{\rightskip}{0pt plus 5cm}sparky\+::\+Thread\+Pool\+::\+Thread\+Pool (
\begin{DoxyParamCaption}
\item[{const unsigned int}]{threads = {\ttfamily std\+:\+:thread\+:\+:hardware\+\_\+concurrency()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}\hypertarget{classsparky_1_1_thread_pool_ac153de2ca1a6b692c48e000c7891e439}{}\label{classsparky_1_1_thread_pool_ac153de2ca1a6b692c48e000c7891e439}


Constructs the Thread Pool with a set amount of threads. 

Default constructor of the Thread Pool object instance. The amount of threads that the pool will utilise is set by default to the maximum that the hardware can utilise. The user can specify if they wish to use less threads for the pool.


\begin{DoxyParams}{Parameters}
{\em threads} & The amount of threads that the pool will utilise. \\
\hline
\end{DoxyParams}
\index{sparky\+::\+Thread\+Pool@{sparky\+::\+Thread\+Pool}!````~Thread\+Pool@{$\sim$\+Thread\+Pool}}
\index{````~Thread\+Pool@{$\sim$\+Thread\+Pool}!sparky\+::\+Thread\+Pool@{sparky\+::\+Thread\+Pool}}
\subsubsection[{\texorpdfstring{$\sim$\+Thread\+Pool(void)}{~ThreadPool(void)}}]{\setlength{\rightskip}{0pt plus 5cm}sparky\+::\+Thread\+Pool\+::$\sim$\+Thread\+Pool (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_thread_pool_ae54a60ab84b11b3bb6dcccea9ba4d841}{}\label{classsparky_1_1_thread_pool_ae54a60ab84b11b3bb6dcccea9ba4d841}


Destruction of the Thread Pool object. 

Default destruction of the Thread Pool object instance. This will make sure that all of the threads have stopped before joining them back to the main thread. 

\subsection{Member Function Documentation}
\index{sparky\+::\+Thread\+Pool@{sparky\+::\+Thread\+Pool}!add\+Task@{add\+Task}}
\index{add\+Task@{add\+Task}!sparky\+::\+Thread\+Pool@{sparky\+::\+Thread\+Pool}}
\subsubsection[{\texorpdfstring{add\+Task(const std\+::function$<$ void()$>$ \&function)}{addTask(const std::function< void()> &function)}}]{\setlength{\rightskip}{0pt plus 5cm}void sparky\+::\+Thread\+Pool\+::add\+Task (
\begin{DoxyParamCaption}
\item[{const std\+::function$<$ void()$>$ \&}]{function}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_thread_pool_a3faeacdbbab736f1461c7ea53739e34f}{}\label{classsparky_1_1_thread_pool_a3faeacdbbab736f1461c7ea53739e34f}


Adds a task that an inactive thread will execute. 

Adds a task to the queue of tasks that are to be executed by the threads within the pool. If no threads are currently available, it is added to a queue and executed as soon as possible.


\begin{DoxyParams}{Parameters}
{\em function} & The function that the threads will execute.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em future} & The future result of the added task. \\
\hline
\end{DoxyRetVals}
\index{sparky\+::\+Thread\+Pool@{sparky\+::\+Thread\+Pool}!join@{join}}
\index{join@{join}!sparky\+::\+Thread\+Pool@{sparky\+::\+Thread\+Pool}}
\subsubsection[{\texorpdfstring{join(void)}{join(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void sparky\+::\+Thread\+Pool\+::join (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_thread_pool_a24ce7704a54be1f5b956d61bc6c0fc7f}{}\label{classsparky_1_1_thread_pool_a24ce7704a54be1f5b956d61bc6c0fc7f}


Joins each thread back to the main thread. 

This method is automatically called upon destruction of the Thread Pool. It joins all of the current threads within the pool and sets it stop multi-\/threading. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Ben/\+Documents/repos/sparky/include/sparky/utils/threadpool.\+hpp\end{DoxyCompactItemize}
