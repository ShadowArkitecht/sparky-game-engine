\hypertarget{classsparky_1_1_ref}{}\section{sparky\+:\+:Ref Class Reference}
\label{classsparky_1_1_ref}\index{sparky\+::\+Ref@{sparky\+::\+Ref}}


{\ttfamily \#include $<$ref.\+hpp$>$}

Inheritance diagram for sparky\+:\+:Ref\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=12.000000cm]{classsparky_1_1_ref}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsparky_1_1_ref_a0947962689474dc06248f52e62022729}{Ref} (void)
\begin{DoxyCompactList}\small\item\em Constructs a \hyperlink{classsparky_1_1_ref}{Ref} object instance. \end{DoxyCompactList}\item 
virtual \hyperlink{classsparky_1_1_ref_ac1f745dbc70be6aa1550d08bb5d74d27}{$\sim$\+Ref} (void)=default
\begin{DoxyCompactList}\small\item\em Destructs a \hyperlink{classsparky_1_1_ref}{Ref} object instance. \end{DoxyCompactList}\item 
unsigned int \hyperlink{classsparky_1_1_ref_a25f72de3eab90cc4cd17d90a2762ceb8}{get\+Ref\+Count} (void) const 
\begin{DoxyCompactList}\small\item\em Gets the current reference count of the \hyperlink{classsparky_1_1_ref}{Ref}. \end{DoxyCompactList}\item 
void \hyperlink{classsparky_1_1_ref_aeeb606836c315aa3b8a2254e23eb0899}{add\+Ref} (void)
\begin{DoxyCompactList}\small\item\em Adds a reference count to the \hyperlink{classsparky_1_1_ref}{Ref}. \end{DoxyCompactList}\item 
void \hyperlink{classsparky_1_1_ref_acb1878708d20ec8051a8182a83c4a370}{remove\+Ref} (void)
\begin{DoxyCompactList}\small\item\em Removes a reference count from the \hyperlink{classsparky_1_1_ref}{Ref}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename T $>$ }\\static void \hyperlink{classsparky_1_1_ref_a3234294a7cd7ca2c0da66c76234f4b59}{release} (T \&ref)
\begin{DoxyCompactList}\small\item\em Error-\/checking and referencing decrementing of \hyperlink{classsparky_1_1_ref}{Ref} objects. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classsparky_1_1_ref}{sparky\+::\+Ref} is a referenced counted class which all dynamically allocated resources within the engine will inherit from. This is Sparky\textquotesingle{}s inbuilt methodology for providing basic Garbage Collection.

\hyperlink{classsparky_1_1_ref}{sparky\+::\+Ref} is commonly not used by itself, it is typically inherited from and provides its uses for subsequent child classes. However the user can use the base \hyperlink{classsparky_1_1_ref}{Ref} class if they so choose. Below is an example on how to use the functionality of the \hyperlink{classsparky_1_1_ref}{Ref} class.

Usage example\+: 
\begin{DoxyCode}
\textcolor{comment}{// Create an Ref and retain it.}
\hyperlink{classsparky_1_1_ref}{sparky::Ref}* pObject = \textcolor{keyword}{new} \hyperlink{classsparky_1_1_ref}{sparky::Ref}();
pObject->\hyperlink{classsparky_1_1_ref_aeeb606836c315aa3b8a2254e23eb0899}{addRef}();

\textcolor{comment}{// Use the object.}
\textcolor{comment}{// PoolManager is flushed}
\hyperlink{classsparky_1_1_singleton_a8e56848cf24e5f4cdcd493c64d576f10}{PoolManager::getInstance}().\hyperlink{classsparky_1_1_pool_manager_a32fb836cefbcd22763895259779eea65}{flush}();
\textcolor{comment}{// Release upon end-of-use. The counter will be decremented and }
\textcolor{comment}{// the object will be subsequently destroyed.}
\hyperlink{classsparky_1_1_ref_a3234294a7cd7ca2c0da66c76234f4b59}{Ref::release}(pObject);
\end{DoxyCode}
 

\subsection{Constructor \& Destructor Documentation}
\index{sparky\+::\+Ref@{sparky\+::\+Ref}!Ref@{Ref}}
\index{Ref@{Ref}!sparky\+::\+Ref@{sparky\+::\+Ref}}
\subsubsection[{\texorpdfstring{Ref(void)}{Ref(void)}}]{\setlength{\rightskip}{0pt plus 5cm}sparky\+::\+Ref\+::\+Ref (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}\hypertarget{classsparky_1_1_ref_a0947962689474dc06248f52e62022729}{}\label{classsparky_1_1_ref_a0947962689474dc06248f52e62022729}


Constructs a \hyperlink{classsparky_1_1_ref}{Ref} object instance. 

This default constructor initialises the \hyperlink{classsparky_1_1_ref}{Ref} and sets the reference count to one. Upon construction the object is added to the \hyperlink{classsparky_1_1_pool_manager}{Pool\+Manager}. At the end of the current frame the pool is emptied and cleared and all \hyperlink{classsparky_1_1_ref}{Ref} objects within the list have their references decremented. If the count is equal to 0, the \hyperlink{classsparky_1_1_ref}{Ref} object is deleted. \index{sparky\+::\+Ref@{sparky\+::\+Ref}!````~Ref@{$\sim$\+Ref}}
\index{````~Ref@{$\sim$\+Ref}!sparky\+::\+Ref@{sparky\+::\+Ref}}
\subsubsection[{\texorpdfstring{$\sim$\+Ref(void)=default}{~Ref(void)=default}}]{\setlength{\rightskip}{0pt plus 5cm}virtual sparky\+::\+Ref\+::$\sim$\+Ref (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}\hypertarget{classsparky_1_1_ref_ac1f745dbc70be6aa1550d08bb5d74d27}{}\label{classsparky_1_1_ref_ac1f745dbc70be6aa1550d08bb5d74d27}


Destructs a \hyperlink{classsparky_1_1_ref}{Ref} object instance. 

The \hyperlink{classsparky_1_1_ref}{Ref} only provides a default destructor as the objects inheriting from this object will define their destruction, \hyperlink{classsparky_1_1_ref}{Ref} itself contains no dynamically allocated memory. 

\subsection{Member Function Documentation}
\index{sparky\+::\+Ref@{sparky\+::\+Ref}!add\+Ref@{add\+Ref}}
\index{add\+Ref@{add\+Ref}!sparky\+::\+Ref@{sparky\+::\+Ref}}
\subsubsection[{\texorpdfstring{add\+Ref(void)}{addRef(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void sparky\+::\+Ref\+::add\+Ref (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_ref_aeeb606836c315aa3b8a2254e23eb0899}{}\label{classsparky_1_1_ref_aeeb606836c315aa3b8a2254e23eb0899}


Adds a reference count to the \hyperlink{classsparky_1_1_ref}{Ref}. 

Whenever an \hyperlink{classsparky_1_1_ref}{Ref} is referenced within another class and needs to live throughout that instances lifetime, the \hyperlink{classsparky_1_1_ref}{Ref} in questions reference should be incremented in order to prevent automatic de-\/allocation. \index{sparky\+::\+Ref@{sparky\+::\+Ref}!get\+Ref\+Count@{get\+Ref\+Count}}
\index{get\+Ref\+Count@{get\+Ref\+Count}!sparky\+::\+Ref@{sparky\+::\+Ref}}
\subsubsection[{\texorpdfstring{get\+Ref\+Count(void) const }{getRefCount(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int sparky\+::\+Ref\+::get\+Ref\+Count (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classsparky_1_1_ref_a25f72de3eab90cc4cd17d90a2762ceb8}{}\label{classsparky_1_1_ref_a25f72de3eab90cc4cd17d90a2762ceb8}


Gets the current reference count of the \hyperlink{classsparky_1_1_ref}{Ref}. 

The reference count refers to the amount of times that this current \hyperlink{classsparky_1_1_ref}{Ref} has been referenced by other classes, this is to ensure that objects can be shared between many instances without any one instance being responsible for the \hyperlink{classsparky_1_1_ref}{Ref} desctruction. This means that less memory has to be utilised within the application.


\begin{DoxyRetVals}{Return values}
{\em references} & The amount of references to the \hyperlink{classsparky_1_1_ref}{Ref}. \\
\hline
\end{DoxyRetVals}
\index{sparky\+::\+Ref@{sparky\+::\+Ref}!release@{release}}
\index{release@{release}!sparky\+::\+Ref@{sparky\+::\+Ref}}
\subsubsection[{\texorpdfstring{release(\+T \&ref)}{release(T &ref)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ void sparky\+::\+Ref\+::release (
\begin{DoxyParamCaption}
\item[{T \&}]{ref}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classsparky_1_1_ref_a3234294a7cd7ca2c0da66c76234f4b59}{}\label{classsparky_1_1_ref_a3234294a7cd7ca2c0da66c76234f4b59}


Error-\/checking and referencing decrementing of \hyperlink{classsparky_1_1_ref}{Ref} objects. 

A convenience method for checking whether the current reference is valid. if the \hyperlink{classsparky_1_1_ref}{Ref} is value, the \hyperlink{classsparky_1_1_ref}{Ref} reference count is decremented and upon reaching 0 references, the \hyperlink{classsparky_1_1_ref}{Ref} is automatically de-\/allocated and set to null.


\begin{DoxyParams}{Parameters}
{\em ref} & The \hyperlink{classsparky_1_1_ref}{Ref} to decrement and de-\/allocate. \\
\hline
\end{DoxyParams}
\index{sparky\+::\+Ref@{sparky\+::\+Ref}!remove\+Ref@{remove\+Ref}}
\index{remove\+Ref@{remove\+Ref}!sparky\+::\+Ref@{sparky\+::\+Ref}}
\subsubsection[{\texorpdfstring{remove\+Ref(void)}{removeRef(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void sparky\+::\+Ref\+::remove\+Ref (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_ref_acb1878708d20ec8051a8182a83c4a370}{}\label{classsparky_1_1_ref_acb1878708d20ec8051a8182a83c4a370}


Removes a reference count from the \hyperlink{classsparky_1_1_ref}{Ref}. 

When a call no longer needs to retain a reference to the \hyperlink{classsparky_1_1_ref}{Ref}, the reference counter should be decremented. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Ben/\+Documents/repos/sparky/include/sparky/core/ref.\+hpp\end{DoxyCompactItemize}
