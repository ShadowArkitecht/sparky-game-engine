\hypertarget{classsparky_1_1_chunk}{}\section{sparky\+:\+:Chunk Class Reference}
\label{classsparky_1_1_chunk}\index{sparky\+::\+Chunk@{sparky\+::\+Chunk}}


{\ttfamily \#include $<$chunk.\+hpp$>$}

Inheritance diagram for sparky\+:\+:Chunk\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classsparky_1_1_chunk}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsparky_1_1_chunk_aa97fa2698af88d0016dd530fb15b7058}{Chunk} (void)
\begin{DoxyCompactList}\small\item\em Default construction of the \hyperlink{classsparky_1_1_chunk}{Chunk} object. \end{DoxyCompactList}\item 
\hyperlink{classsparky_1_1_chunk_abffb3a373d72632f02bed7be42cd2cd7}{$\sim$\+Chunk} (void)
\begin{DoxyCompactList}\small\item\em Destruction of the \hyperlink{classsparky_1_1_chunk}{Chunk} object. \end{DoxyCompactList}\item 
\hyperlink{classsparky_1_1_transform}{Transform} \& \hyperlink{classsparky_1_1_chunk_afff0bec815828d5fba3523ef85c1083f}{get\+Transform} (void)
\begin{DoxyCompactList}\small\item\em Retrieves the \hyperlink{classsparky_1_1_transform}{Transform} of the \hyperlink{classsparky_1_1_chunk}{Chunk} object. \end{DoxyCompactList}\item 
\hyperlink{classsparky_1_1_voxel}{Voxel} $\ast$ \hyperlink{classsparky_1_1_chunk_adc8906c4ddc933c7e27fc273f6ec6e4d}{get\+Voxel} (const \hyperlink{classsparky_1_1_vector3}{Vector3i} \&pos)
\begin{DoxyCompactList}\small\item\em Retrieves a reference to the \hyperlink{classsparky_1_1_voxel}{Voxel} at the position specified. \end{DoxyCompactList}\item 
\hyperlink{classsparky_1_1_voxel}{Voxel} $\ast$ \hyperlink{classsparky_1_1_chunk_a7afbe6ac2eb709d5cc59c0c9e3540b5b}{get\+Voxel} (const int x, const int y, const int z)
\begin{DoxyCompactList}\small\item\em Retrieves a reference to the \hyperlink{classsparky_1_1_voxel}{Voxel} at the position specified. \end{DoxyCompactList}\item 
\hyperlink{classsparky_1_1_mesh_data}{Mesh\+Data} $\ast$ \hyperlink{classsparky_1_1_chunk_aec95749745f482ae6aca2a813cd1b420}{get\+Mesh} (void) const 
\begin{DoxyCompactList}\small\item\em Retrieves the underlying \hyperlink{classsparky_1_1_mesh_data}{Mesh\+Data} of the \hyperlink{classsparky_1_1_chunk}{Chunk}. \end{DoxyCompactList}\item 
void \hyperlink{classsparky_1_1_chunk_a998e3e80913675edf552c927487a7df1}{set\+World} (\hyperlink{classsparky_1_1_world}{World} $\ast$p\+World)
\begin{DoxyCompactList}\small\item\em Sets the \hyperlink{classsparky_1_1_world}{World} object of the \hyperlink{classsparky_1_1_chunk}{Chunk}. \end{DoxyCompactList}\item 
void \hyperlink{classsparky_1_1_chunk_ab9a672846c269ca0554e489b10c973d5}{culled} (void)
\begin{DoxyCompactList}\small\item\em Performs culling on the current \hyperlink{classsparky_1_1_chunk}{Chunk} object. \end{DoxyCompactList}\item 
void \hyperlink{classsparky_1_1_chunk_a007d463c5ec8c516cc10a6aed31f028e}{greedy} (void)
\begin{DoxyCompactList}\small\item\em Reduces the amount of vertices that a \hyperlink{classsparky_1_1_chunk}{Chunk} contains. \end{DoxyCompactList}\item 
void \hyperlink{classsparky_1_1_chunk_a0d89521b4e322fb1f3b8a031b2f61355}{reset} (void)\hypertarget{classsparky_1_1_chunk_a0d89521b4e322fb1f3b8a031b2f61355}{}\label{classsparky_1_1_chunk_a0d89521b4e322fb1f3b8a031b2f61355}

\begin{DoxyCompactList}\small\item\em Clears the \hyperlink{classsparky_1_1_chunk}{Chunk} \hyperlink{classsparky_1_1_mesh_data}{Mesh\+Data} of all vertices and indices. \end{DoxyCompactList}\item 
void \hyperlink{classsparky_1_1_chunk_a24afefc8aa1fe69218a4e25ce9c06dc2}{render} (\hyperlink{classsparky_1_1_i_shader_component}{I\+Shader\+Component} $\ast$p\+Shader)\hypertarget{classsparky_1_1_chunk_a24afefc8aa1fe69218a4e25ce9c06dc2}{}\label{classsparky_1_1_chunk_a24afefc8aa1fe69218a4e25ce9c06dc2}

\begin{DoxyCompactList}\small\item\em Renders the \hyperlink{classsparky_1_1_chunk}{Chunk} object to the buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static int \hyperlink{classsparky_1_1_chunk_a98fd1c296d3373756675e9a17dcdd622}{get\+Size} (void)
\begin{DoxyCompactList}\small\item\em Retrieves the uniform dimensions of the \hyperlink{classsparky_1_1_chunk}{Chunk}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classsparky_1_1_chunk}{sparky\+::\+Chunk} is a collection of 16 $\ast$ 16 $\ast$ 16 voxels which are grouped together into a single draw call. Chunking the voxels together significantly improves the frame-\/rate of the application.

The voxels of the \hyperlink{classsparky_1_1_chunk}{Chunk} can be updated by directly accessing the individual elements of the \hyperlink{classsparky_1_1_chunk}{Chunk}. Below is a code example.

Usage example\+: 
\begin{DoxyCode}
\textcolor{comment}{// Create a Chunk object and retain it.}
\hyperlink{classsparky_1_1_chunk}{sparky::Chunk}* pChunk = \textcolor{keyword}{new} \hyperlink{classsparky_1_1_chunk}{sparky::Chunk}();
pChunk->\hyperlink{classsparky_1_1_ref_aeeb606836c315aa3b8a2254e23eb0899}{addRef}();

\textcolor{comment}{// Change a Voxel within the Chunk.}
pChunk->\hyperlink{classsparky_1_1_chunk_adc8906c4ddc933c7e27fc273f6ec6e4d}{getVoxel}(0, 0, 0).\hyperlink{classsparky_1_1_voxel_a358a07e19e2b9a5ad0f61b45b5c3cf12}{setActive}(\textcolor{keyword}{false});

\textcolor{comment}{// Add the Chunk greedy meshing to a seperate thread.}
\hyperlink{classsparky_1_1_singleton_a8e56848cf24e5f4cdcd493c64d576f10}{sparky::ThreadManager::getInstance}().\hyperlink{classsparky_1_1_thread_manager_ade9dc04071ece6e4aec12b5479dfbd53}{addTask}(std::bind(&
      \hyperlink{classsparky_1_1_chunk_a007d463c5ec8c516cc10a6aed31f028e}{sparky::Chunk::greedy}, pChunk));

\textcolor{comment}{// Render the Chunk.}
pChunk->\hyperlink{classsparky_1_1_chunk_a24afefc8aa1fe69218a4e25ce9c06dc2}{render}(\hyperlink{classsparky_1_1_singleton_a8e56848cf24e5f4cdcd493c64d576f10}{sparky::ResourceManager::getInstance}().getShader(\textcolor{stringliteral}{"
      deferred"}));
\end{DoxyCode}
 

\subsection{Constructor \& Destructor Documentation}
\index{sparky\+::\+Chunk@{sparky\+::\+Chunk}!Chunk@{Chunk}}
\index{Chunk@{Chunk}!sparky\+::\+Chunk@{sparky\+::\+Chunk}}
\subsubsection[{\texorpdfstring{Chunk(void)}{Chunk(void)}}]{\setlength{\rightskip}{0pt plus 5cm}sparky\+::\+Chunk\+::\+Chunk (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}\hypertarget{classsparky_1_1_chunk_aa97fa2698af88d0016dd530fb15b7058}{}\label{classsparky_1_1_chunk_aa97fa2698af88d0016dd530fb15b7058}


Default construction of the \hyperlink{classsparky_1_1_chunk}{Chunk} object. 

When the \hyperlink{classsparky_1_1_chunk}{Chunk} is instantiated, the Mesh is dynamically allocated and retained for use. \index{sparky\+::\+Chunk@{sparky\+::\+Chunk}!````~Chunk@{$\sim$\+Chunk}}
\index{````~Chunk@{$\sim$\+Chunk}!sparky\+::\+Chunk@{sparky\+::\+Chunk}}
\subsubsection[{\texorpdfstring{$\sim$\+Chunk(void)}{~Chunk(void)}}]{\setlength{\rightskip}{0pt plus 5cm}sparky\+::\+Chunk\+::$\sim$\+Chunk (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_chunk_abffb3a373d72632f02bed7be42cd2cd7}{}\label{classsparky_1_1_chunk_abffb3a373d72632f02bed7be42cd2cd7}


Destruction of the \hyperlink{classsparky_1_1_chunk}{Chunk} object. 

When the object is destroyed, the \hyperlink{classsparky_1_1_mesh_data}{Mesh\+Data} is de-\/allocated and and the memory is released for other use. 

\subsection{Member Function Documentation}
\index{sparky\+::\+Chunk@{sparky\+::\+Chunk}!culled@{culled}}
\index{culled@{culled}!sparky\+::\+Chunk@{sparky\+::\+Chunk}}
\subsubsection[{\texorpdfstring{culled(void)}{culled(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void sparky\+::\+Chunk\+::culled (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_chunk_ab9a672846c269ca0554e489b10c973d5}{}\label{classsparky_1_1_chunk_ab9a672846c269ca0554e489b10c973d5}


Performs culling on the current \hyperlink{classsparky_1_1_chunk}{Chunk} object. 

When the current \hyperlink{classsparky_1_1_chunk}{Chunk} is culled, it only created vertices and geometry for the voxels that can be directly seen. \index{sparky\+::\+Chunk@{sparky\+::\+Chunk}!get\+Mesh@{get\+Mesh}}
\index{get\+Mesh@{get\+Mesh}!sparky\+::\+Chunk@{sparky\+::\+Chunk}}
\subsubsection[{\texorpdfstring{get\+Mesh(void) const }{getMesh(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mesh\+Data}$\ast$ sparky\+::\+Chunk\+::get\+Mesh (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classsparky_1_1_chunk_aec95749745f482ae6aca2a813cd1b420}{}\label{classsparky_1_1_chunk_aec95749745f482ae6aca2a813cd1b420}


Retrieves the underlying \hyperlink{classsparky_1_1_mesh_data}{Mesh\+Data} of the \hyperlink{classsparky_1_1_chunk}{Chunk}. 


\begin{DoxyRetVals}{Return values}
{\em \hyperlink{classsparky_1_1_mesh_data}{Mesh\+Data}} & The \hyperlink{classsparky_1_1_mesh_data}{Mesh\+Data} of the \hyperlink{classsparky_1_1_chunk}{Chunk}. \\
\hline
\end{DoxyRetVals}
\index{sparky\+::\+Chunk@{sparky\+::\+Chunk}!get\+Size@{get\+Size}}
\index{get\+Size@{get\+Size}!sparky\+::\+Chunk@{sparky\+::\+Chunk}}
\subsubsection[{\texorpdfstring{get\+Size(void)}{getSize(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static int sparky\+::\+Chunk\+::get\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classsparky_1_1_chunk_a98fd1c296d3373756675e9a17dcdd622}{}\label{classsparky_1_1_chunk_a98fd1c296d3373756675e9a17dcdd622}


Retrieves the uniform dimensions of the \hyperlink{classsparky_1_1_chunk}{Chunk}. 


\begin{DoxyRetVals}{Return values}
{\em int} & The size of the \hyperlink{classsparky_1_1_chunk}{Chunk} object. \\
\hline
\end{DoxyRetVals}
\index{sparky\+::\+Chunk@{sparky\+::\+Chunk}!get\+Transform@{get\+Transform}}
\index{get\+Transform@{get\+Transform}!sparky\+::\+Chunk@{sparky\+::\+Chunk}}
\subsubsection[{\texorpdfstring{get\+Transform(void)}{getTransform(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Transform}\& sparky\+::\+Chunk\+::get\+Transform (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_chunk_afff0bec815828d5fba3523ef85c1083f}{}\label{classsparky_1_1_chunk_afff0bec815828d5fba3523ef85c1083f}


Retrieves the \hyperlink{classsparky_1_1_transform}{Transform} of the \hyperlink{classsparky_1_1_chunk}{Chunk} object. 


\begin{DoxyRetVals}{Return values}
{\em \hyperlink{classsparky_1_1_transform}{Transform}} & The \hyperlink{classsparky_1_1_transform}{Transform} of the \hyperlink{classsparky_1_1_chunk}{Chunk} object. \\
\hline
\end{DoxyRetVals}
\index{sparky\+::\+Chunk@{sparky\+::\+Chunk}!get\+Voxel@{get\+Voxel}}
\index{get\+Voxel@{get\+Voxel}!sparky\+::\+Chunk@{sparky\+::\+Chunk}}
\subsubsection[{\texorpdfstring{get\+Voxel(const Vector3i \&pos)}{getVoxel(const Vector3i &pos)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Voxel}$\ast$ sparky\+::\+Chunk\+::get\+Voxel (
\begin{DoxyParamCaption}
\item[{const {\bf Vector3i} \&}]{pos}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_chunk_adc8906c4ddc933c7e27fc273f6ec6e4d}{}\label{classsparky_1_1_chunk_adc8906c4ddc933c7e27fc273f6ec6e4d}


Retrieves a reference to the \hyperlink{classsparky_1_1_voxel}{Voxel} at the position specified. 


\begin{DoxyParams}{Parameters}
{\em pos} & The position of the \hyperlink{classsparky_1_1_voxel}{Voxel}.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em \hyperlink{classsparky_1_1_voxel}{Voxel}} & The \hyperlink{classsparky_1_1_voxel}{Voxel} at the specified position. \\
\hline
\end{DoxyRetVals}
\index{sparky\+::\+Chunk@{sparky\+::\+Chunk}!get\+Voxel@{get\+Voxel}}
\index{get\+Voxel@{get\+Voxel}!sparky\+::\+Chunk@{sparky\+::\+Chunk}}
\subsubsection[{\texorpdfstring{get\+Voxel(const int x, const int y, const int z)}{getVoxel(const int x, const int y, const int z)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Voxel}$\ast$ sparky\+::\+Chunk\+::get\+Voxel (
\begin{DoxyParamCaption}
\item[{const int}]{x, }
\item[{const int}]{y, }
\item[{const int}]{z}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_chunk_a7afbe6ac2eb709d5cc59c0c9e3540b5b}{}\label{classsparky_1_1_chunk_a7afbe6ac2eb709d5cc59c0c9e3540b5b}


Retrieves a reference to the \hyperlink{classsparky_1_1_voxel}{Voxel} at the position specified. 


\begin{DoxyParams}{Parameters}
{\em x} & The x position of the \hyperlink{classsparky_1_1_voxel}{Voxel}. \\
\hline
{\em y} & The y position of the \hyperlink{classsparky_1_1_voxel}{Voxel}. \\
\hline
{\em z} & The z position of the \hyperlink{classsparky_1_1_voxel}{Voxel}.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Voxel$\ast$} & The \hyperlink{classsparky_1_1_voxel}{Voxel} at the specified position. \\
\hline
\end{DoxyRetVals}
\index{sparky\+::\+Chunk@{sparky\+::\+Chunk}!greedy@{greedy}}
\index{greedy@{greedy}!sparky\+::\+Chunk@{sparky\+::\+Chunk}}
\subsubsection[{\texorpdfstring{greedy(void)}{greedy(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void sparky\+::\+Chunk\+::greedy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_chunk_a007d463c5ec8c516cc10a6aed31f028e}{}\label{classsparky_1_1_chunk_a007d463c5ec8c516cc10a6aed31f028e}


Reduces the amount of vertices that a \hyperlink{classsparky_1_1_chunk}{Chunk} contains. 

Greedy meshing checks each \hyperlink{classsparky_1_1_voxel}{Voxel} and its adjacent neighbours, if the \hyperlink{classsparky_1_1_chunk}{Chunk} is active and the materials match, the faces will be merged. Greedy meshing helps to reduce the amount of memory that each \hyperlink{classsparky_1_1_chunk}{Chunk} contains. \index{sparky\+::\+Chunk@{sparky\+::\+Chunk}!set\+World@{set\+World}}
\index{set\+World@{set\+World}!sparky\+::\+Chunk@{sparky\+::\+Chunk}}
\subsubsection[{\texorpdfstring{set\+World(\+World $\ast$p\+World)}{setWorld(World *pWorld)}}]{\setlength{\rightskip}{0pt plus 5cm}void sparky\+::\+Chunk\+::set\+World (
\begin{DoxyParamCaption}
\item[{{\bf World} $\ast$}]{p\+World}
\end{DoxyParamCaption}
)}\hypertarget{classsparky_1_1_chunk_a998e3e80913675edf552c927487a7df1}{}\label{classsparky_1_1_chunk_a998e3e80913675edf552c927487a7df1}


Sets the \hyperlink{classsparky_1_1_world}{World} object of the \hyperlink{classsparky_1_1_chunk}{Chunk}. 

When a chunk is created, it is attached to a \hyperlink{classsparky_1_1_world}{World} object. If a voxel if achieved from the chunk and is out of scope, it will search the world object.


\begin{DoxyParams}{Parameters}
{\em p\+World} & The \hyperlink{classsparky_1_1_world}{World} parent of the \hyperlink{classsparky_1_1_chunk}{Chunk}. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Ben/\+Documents/repos/sparky/include/sparky/generation/chunk.\+hpp\end{DoxyCompactItemize}
